<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="zz_xiaoming's blog."><meta name="keywords" content="博客, 前端, js"><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.4"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.4"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="stylesheet" type="text/css" href="https://unpkg.com/gitalk/dist/gitalk.css?v=2.0.4"><title>css，js以及web性能优化 | zz_xiaoming's blog.</title><meta name="generator" content="Hexo 4.0.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">css，js以及web性能优化</h1><a id="logo" href="/.">zz_xiaoming's blog.</a><p class="description">less talking, more working</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">css，js以及web性能优化</h1><div class="post-meta"><a href="/2019/01/03/css%EF%BC%8Cjs%E4%BB%A5%E5%8F%8Aweb%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#comments" class="comment-count"></a><p><span class="date">Jan 03, 2019</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p><img src="/2019/01/03/css%EF%BC%8Cjs%E4%BB%A5%E5%8F%8Aweb%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/z4.jpg" alt="蝈" title="蝈"></p>
<hr>
<blockquote>
<h3 id="Css优化总结"><a href="#Css优化总结" class="headerlink" title="Css优化总结"></a>Css优化总结</h3></blockquote>
<p>对于css的优化可以从网络性能和css语法优化两方面来考虑。</p>
<p><strong>Css性能优化方法如下：</strong></p>
<h4 id="1、css压缩"><a href="#1、css压缩" class="headerlink" title="1、css压缩"></a>1、css压缩</h4><p>Css 压缩虽然不是高端的知识，但是很有用。其原理也很简单，就是把我们css代码中没有用的空白符等删除，达到缩减字符个数的目的。</p>
<p>压缩css代码的工具：</p>
<p>A、YUI compressor，可以在线压缩css和js代码。</p>
<p>B、gulp自动化构建工具，中的gulp-minify-css。</p>
<h4 id="2、gzip压缩"><a href="#2、gzip压缩" class="headerlink" title="2、gzip压缩"></a>2、gzip压缩</h4><p>Gzip是一种流行的文件压缩算法，现在应用的十分广泛，尤其实在Linux这个平台上，这个不止是对css，当应用Gzip压缩一个文本时，效果是非常明显的。大约可以减少70%以上的文件大小（这取决于文件中的内容）。</p>
<p>在没有 gzip压缩的情况下，web服务器直接把html页面、css脚本以及js脚本发送到浏览器，而支持gzip的浏览器在本地进行解压和解码，并显示原文件。这样我们传输的文件字节数减少了，自然可以达到网络性能优化的目的。Gzip压缩需要服务器的支持，所以需要在服务器端进行配置。</p>
<h4 id="3、合写css（通过少些css属性来达到减少css字节吗的目的）"><a href="#3、合写css（通过少些css属性来达到减少css字节吗的目的）" class="headerlink" title="3、合写css（通过少些css属性来达到减少css字节吗的目的）"></a>3、合写css（通过少些css属性来达到减少css字节吗的目的）</h4><p>例子：</p>
<p>background:#000 url(image.jpg) top left no-repeat;</p>
<p>font:font-style   font-weight    font-size  font-familiy;</p>
<p>margin:5px 10px 20px 15px;</p>
<p>padding:5px;</p>
<p>border:2px 5px 10px 3px;</p>
<p>border-top:2px 5px 10px 3px;</p>
<h4 id="4、利用继承"><a href="#4、利用继承" class="headerlink" title="4、利用继承"></a>4、利用继承</h4><p>Css的继承机制可以帮我们在一定程度上缩减字节数，我们知道css很多属性可以继承，即在父容器设置了默认属性，子容器会默认也使用这些属性。</p>
<p>可继承的属性举例：</p>
<p>所有元素都可以继承的属性：visibility 、cursor</p>
<p>内联元素和块元素可以继承的属性：Letter-spacing、word-spacing、white-space、line-height、color、font、font-family、font-size、font-style、font-variant、font-weight、text-decoration、text-transform、direction。</p>
<p>块状元素可以继承的属性：Text-indent、text-align；</p>
<p>列表元素可以继承的属性：List-style、list-style-type、list-style-position、list-style-image</p>
<p>表格元素可以继承的属性：Border-collapse</p>
<p>不可以继承的属性：Display、margin、border、padding、background、height、min-height、max-height、width、min-width、max-width、overflow、position、left、right、top、bottom、z-index、float、clear、table-layout、vertical-align、page-break-after、page-break-before、unicode-bidi</p>
<h4 id="5、抽离、拆分css，不加载所有css"><a href="#5、抽离、拆分css，不加载所有css" class="headerlink" title="5、抽离、拆分css，不加载所有css"></a>5、抽离、拆分css，不加载所有css</h4><p>抽离原则：在很多时候，我们把页面通用的css写到了一个文件，这样加载一次后，就可以利用缓存，但这样做兵不适合所有的场景。所以抽离拆分的时候要考虑好。</p>
<h4 id="6、css放在head中，减少repaint和reflow"><a href="#6、css放在head中，减少repaint和reflow" class="headerlink" title="6、css放在head中，减少repaint和reflow"></a>6、css放在head中，减少repaint和reflow</h4><p>Css方法在页面的顶部，有利于优化的原因？？？</p>
<p>当浏览器从上到下一遍下载html生成dom tree，一边根据浏览器默认以及现有css生成render tree来渲染页面。当遇到新的css的时候下载并结合现有css重新生成render tree。则刚才的渲染功能就全废了。当我们把所有css放在页面的顶部，就没有重新渲染的过程了。</p>
<table><tr><td bgcolor="PowderBlue">脚本中应该尽量少用repaint和reflow：</td></tr></table>

<table><tr><td bgcolor="PowderBlue">Reflow：当dom元素出现隐藏/显示，尺寸变化。位置变化的时候，逗号让浏览器重新渲染页面，以前的渲染工作白费了。</td></tr></table>

<table><tr><td bgcolor="PowderBlue">Repaint：当元素的背景颜色，边框颜色变化的时候，不会引起reflow的变化，是会让浏览器重新渲染该元素。</td></tr></table>

<h4 id="7、避免使用通配符或隐式通配符：visible"><a href="#7、避免使用通配符或隐式通配符：visible" class="headerlink" title="7、避免使用通配符或隐式通配符：visible."></a>7、避免使用通配符或隐式通配符：visible.</h4><h4 id="8、避免层级或过度限制css（css是从右向左解析的）"><a href="#8、避免层级或过度限制css（css是从右向左解析的）" class="headerlink" title="8、避免层级或过度限制css（css是从右向左解析的）"></a>8、避免层级或过度限制css（css是从右向左解析的）</h4><p>A、不要用标签或class来限制id。<br>#test .info   /div #test这都属于画蛇添足<br>Id已经可以唯一而且快速的定位到一个元素了。</p>
<p>B、不要用标签限制class<br>Div .info  不好<br>在css代码编写中，如果直接使用class不能达到目的，一般是class设计出现了问题，css需要重构。</p>
<p>C、尽量使用最具体的类别，避免使用后代选择器，在css选择器中，后代选择器非但没有加快css查找，反而后代选择器是css中耗费最贵的。</p>
<blockquote>
<h3 id="JavaScript优化总结"><a href="#JavaScript优化总结" class="headerlink" title="JavaScript优化总结"></a>JavaScript优化总结</h3></blockquote>
<h4 id="1、避免全局查找"><a href="#1、避免全局查找" class="headerlink" title="1、避免全局查找"></a>1、避免全局查找</h4><p>在一个函数中尽量将全局对象存储为局部变量来查找，因为访问局部变量的数要更快一些。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">alert(<span class="built_in">window</span>.location.href+<span class="built_in">window</span>.location.host);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改为：</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">funciton()&#123;</span><br><span class="line"></span><br><span class="line">var <span class="keyword">location</span>=<span class="keyword">window</span>.<span class="keyword">location</span>;</span><br><span class="line"></span><br><span class="line">alert(<span class="keyword">location</span>.href+<span class="keyword">location</span>.host);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2、定时器"><a href="#2、定时器" class="headerlink" title="2、定时器"></a>2、定时器</h4><p>如果针对的是不断运行的代码，不应该使用setTimeout，而应该使用setInterval。因为setTimeout每一次都会初始化一个定时器。而setInterval只会在开始的时候初始化一个定时器。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timeoutTimes=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeout</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">      timeoutTimes++;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(timeoutTimes&lt;<span class="number">10</span>)&#123;</span><br><span class="line"></span><br><span class="line">           setTimeout(timeout,<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改为：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> intervalTimes=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">interval</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">      intervalTimes++;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(intervalTimes&gt;=<span class="number">10</span>)&#123;</span><br><span class="line"></span><br><span class="line">           clearInterval(interval)<span class="string">''</span></span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> interval = setInterval(interval,<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<h4 id="3、字符串连接"><a href="#3、字符串连接" class="headerlink" title="3、字符串连接"></a>3、字符串连接</h4><p>如果需要连接多个字符串，应该少使用+=：</p>
<p>如</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s+=a;s+=b;s+=c;</span><br></pre></td></tr></table></figure>
<p>修改为：</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s+=a+b+c;</span><br></pre></td></tr></table></figure>
<p>而如果是收集字符串，比如多次对同一个字符进行+=操作的话，最好使用一个缓存，使用js数组来收集，最后join方法连接起来。</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">var</span> buf=[];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">var</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line"></span><br><span class="line">      buf.<span class="built_in">push</span>(i.toString());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">var</span> all=buf.<span class="built_in">join</span>(<span class="string">""</span>);</span><br></pre></td></tr></table></figure>

<h4 id="4、避免with语句"><a href="#4、避免with语句" class="headerlink" title="4、避免with语句"></a>4、避免with语句</h4><p>和函数类似，with语句会创建自己的作用域，因此会增加其中执行的代码的作用域链的长度。犹豫额外的作用域链的查找，在with语句中执行的代码肯定会比外面执行的低吗要慢，在能不使用with语句的时候，尽量不要使用with语句。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">with(a,b,c,d)&#123;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">property1</span>=1;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">property2</span>=2;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改为：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var <span class="attribute">obj</span>=a.b.c.d;</span><br><span class="line"></span><br><span class="line">obj.<span class="attribute">property1</span>=1;</span><br><span class="line"></span><br><span class="line">obj.<span class="attribute">property2</span>=2;</span><br></pre></td></tr></table></figure>

<h4 id="5、数字转为字符串"><a href="#5、数字转为字符串" class="headerlink" title="5、数字转为字符串"></a>5、数字转为字符串</h4><p>一般用“”+1来将数字转为字符串，虽然看起来比较丑一点，但事实上这个效率最高。</p>
<p>（“”+1）&gt;String()&gt;.toString()&gt;new String()</p>
<h4 id="6、浮点数转化为整型"><a href="#6、浮点数转化为整型" class="headerlink" title="6、浮点数转化为整型"></a>6、浮点数转化为整型</h4><p>很多人喜欢使用pareseInt(),其实parseInt()是用于将字符串转为数字，而不是浮点数和整型之间的转换。我们应该使用的是Math.floor()或Math.round();</p>
<h4 id="7、多个类型声明"><a href="#7、多个类型声明" class="headerlink" title="7、多个类型声明"></a>7、多个类型声明</h4><p>所有变量可以使用单个var语句来声明，这样就是组合在一起的语句，以减少整个脚本的执行时间。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var   <span class="attribute">A</span>=1,</span><br><span class="line"></span><br><span class="line">       <span class="attribute">B</span>=2,</span><br><span class="line"></span><br><span class="line">       <span class="attribute">C</span>=3;</span><br></pre></td></tr></table></figure>

<h4 id="8、使用直接量"><a href="#8、使用直接量" class="headerlink" title="8、使用直接量"></a>8、使用直接量</h4><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aTest=<span class="keyword">new</span> <span class="type">Array</span>();<span class="comment">//var aTest=[]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> aTest=<span class="keyword">new</span> <span class="type">Object</span>();<span class="comment">//var aTest=&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg=<span class="keyword">new</span> <span class="type">RegExp</span>();<span class="comment">//var reg=/ /;</span></span><br></pre></td></tr></table></figure>
<p>创建具有特殊性的一般对象，也可以使用字面量。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var <span class="attribute">oFruit</span>=new O();</span><br><span class="line"></span><br><span class="line">oFruit.<span class="attribute">color</span>=<span class="string">"red"</span>;</span><br><span class="line"></span><br><span class="line">oFruit.<span class="attribute">name</span>=<span class="string">"apple"</span>;</span><br></pre></td></tr></table></figure>
<p>应改为</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var oFruit=&#123;<span class="string">color:</span><span class="string">"red"</span>,<span class="string">name:</span><span class="string">'apple'</span>&#125;</span><br></pre></td></tr></table></figure>

<h4 id="9、使用DocumentFragment优化多次的append"><a href="#9、使用DocumentFragment优化多次的append" class="headerlink" title="9、使用DocumentFragment优化多次的append"></a>9、使用DocumentFragment优化多次的append</h4><p>一旦需要跟新DOM，请考虑使用文档碎片来构建结构，然后再添加到现有的文档中。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(var <span class="attribute">i</span>=0;i&lt;1000;i++)&#123;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">varel</span>=document.createElement('p');</span><br><span class="line"></span><br><span class="line">      el.<span class="attribute">innerHTML</span>=i;</span><br><span class="line"></span><br><span class="line">      document.body.append(el);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>应该改为</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var <span class="attribute">frag</span>=document.createDocumentFragment();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var <span class="attribute">i</span>=0;i&lt;1000,i++)&#123;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">varel</span>=document.createElement('p');</span><br><span class="line"></span><br><span class="line">      el.<span class="attribute">innerHTML</span>=i;</span><br><span class="line"></span><br><span class="line">      frag.append(el);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.body.appendChild(frag);</span><br></pre></td></tr></table></figure>

<h4 id="10、使用一次innerHTML复制代替构建dom元素。"><a href="#10、使用一次innerHTML复制代替构建dom元素。" class="headerlink" title="10、使用一次innerHTML复制代替构建dom元素。"></a>10、使用一次innerHTML复制代替构建dom元素。</h4><p>对于大的dom更改，使用innerHTML要比使用标准的dom方法创建同样的dom结构快的多。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">varfrag</span>=document.createDocumentFragment();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var <span class="attribute">i</span>=0;i&lt;1000;i++)&#123;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">varel</span>=document.createElement('p');</span><br><span class="line"></span><br><span class="line">      el.<span class="attribute">innerHTML</span>=i;</span><br><span class="line"></span><br><span class="line">      frag.appendChild(el);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.body.appendChild(frag);</span><br></pre></td></tr></table></figure>
<p>应该改为</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var html=[];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var <span class="built_in">i</span>=<span class="number">0</span>;<span class="built_in">i</span>&lt;<span class="number">1000</span>;<span class="built_in">i</span>++)&#123;</span><br><span class="line"></span><br><span class="line">      html.push(<span class="string">'&lt;p&gt;'</span>+<span class="built_in">i</span>+<span class="string">"&lt;/p&gt;"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.body.innerHTML=html.join(<span class="string">""</span>);</span><br></pre></td></tr></table></figure>

<h4 id="11、使用firstChild和nextSibling代替childNodes遍历dom元素。"><a href="#11、使用firstChild和nextSibling代替childNodes遍历dom元素。" class="headerlink" title="11、使用firstChild和nextSibling代替childNodes遍历dom元素。"></a>11、使用firstChild和nextSibling代替childNodes遍历dom元素。</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var <span class="attribute">nodes</span>=element.childNodes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var <span class="attribute">i</span>=0,l=nodes.length;i&lt;l;i++)&#123;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">varnode</span>=nodes[i];</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>应该改为</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var <span class="keyword">node</span><span class="title">=element</span>.firstChild;</span><br><span class="line"></span><br><span class="line">while(<span class="keyword">node</span><span class="title">)&#123;</span></span><br><span class="line"><span class="title"></span></span><br><span class="line"><span class="title">      node</span>.<span class="keyword">node</span>.<span class="title">nextSibling</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="12、删除dom节点"><a href="#12、删除dom节点" class="headerlink" title="12、删除dom节点"></a>12、删除dom节点</h4><p>删除dom节点之前，一定要删除注册在该节点上的事件，不管是observe方式还是用attachEvent方式注册的事件。否则将会产生无法回收的内存。另外，removeChild和innerHTML=‘’两者之间尽量选择后者，因为在内存泄漏工具中监测的结果是用removeChild无法有效的释放dom节点。</p>
<h4 id="13、简化终止条件"><a href="#13、简化终止条件" class="headerlink" title="13、简化终止条件"></a>13、简化终止条件</h4><p>由于每次循环过程，都会计算终止条件。所以必须保证他尽可能的快。也就是避免属性查找或其他操作。最好是将循环控制量保存到局部变量中，也就是说对数组或列表对象遍历的时候，提前将length保存到局部变量中，避免循环的每一步重复取值。</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">varlist=document.getElementsByTagName(<span class="string">'p'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var <span class="built_in">i</span>=<span class="number">0</span>;<span class="built_in">i</span>&lt;list.<span class="built_in">length</span>;<span class="built_in">i</span>++)&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>应该改为</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(var <span class="built_in">i</span>=<span class="number">0</span>,l=list.<span class="built_in">length</span>;<span class="built_in">i</span>&lt;l;<span class="built_in">i</span>++)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="14、使用后测试循环"><a href="#14、使用后测试循环" class="headerlink" title="14、使用后测试循环"></a>14、使用后测试循环</h4><p>在js中，我们使用for(;;),while(),for(in)三种循环。for(in)的效率极差。因为他需要查询散列键，只要可以，就应该尽量少用。</p>
<p>for(;;)和while循环，while优于for（；；）,可能for（；；）结构问题，需要经常的跳转。do..while更好。</p>
<h4 id="15、尽量少用eval函数"><a href="#15、尽量少用eval函数" class="headerlink" title="15、尽量少用eval函数"></a>15、尽量少用eval函数</h4><p>使用eval函数相当于在运行时，再次调用解释引擎对内容进行运行，需要消耗大量时间，而且使用eval带来的安全性问题也是不容忽视的。</p>
<h4 id="16、不要给setTimeout或setInterval传递字符串参数。"><a href="#16、不要给setTimeout或setInterval传递字符串参数。" class="headerlink" title="16、不要给setTimeout或setInterval传递字符串参数。"></a>16、不要给setTimeout或setInterval传递字符串参数。</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">num</span>=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="built_in">num</span>++,<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>应该改为</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addNum</span><span class="params">()</span><span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment"></span></span></span><br><span class="line"><span class="function"><span class="comment">      num++;</span></span></span><br><span class="line"><span class="function"><span class="comment"></span></span></span><br><span class="line"><span class="function"><span class="comment">&#125;</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">setTimeout</span><span class="params">(addNum,10)</span>;</span></span><br></pre></td></tr></table></figure>

<h4 id="17、缩短否定检测"><a href="#17、缩短否定检测" class="headerlink" title="17、缩短否定检测"></a>17、缩短否定检测</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">if</span><span class="params">(oTest!=<span class="string">"#ff0000"</span>)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(oTest!=null)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">if</span><span class="params">(oTest!=false)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>以上都不太好</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">if</span><span class="params">(!oTest)</span></span>&#123;这个比较好&#125;</span><br></pre></td></tr></table></figure>

<h4 id="18、可以用三目运算符替换条件分支，可以提高效率。"><a href="#18、可以用三目运算符替换条件分支，可以提高效率。" class="headerlink" title="18、可以用三目运算符替换条件分支，可以提高效率。"></a>18、可以用三目运算符替换条件分支，可以提高效率。</h4><blockquote>
<h3 id="Web性能优化"><a href="#Web性能优化" class="headerlink" title="Web性能优化"></a>Web性能优化</h3></blockquote>
<h4 id="1、避免坏请求"><a href="#1、避免坏请求" class="headerlink" title="1、避免坏请求"></a>1、避免坏请求</h4><p>有时候页面中的html或css会向服务器请求一个不存在的资源，比如图片或者html文件，这会造成浏览器与服务器之间过多的往返请求。</p>
<p>类似于：</p>
<p>浏览器：“我需要这个图像”<br>服务器：“我没有这个图像”<br>浏览器：“你确定吗？这个文档说你有”<br>服务器：“真的没有”</p>
<p>这个降低页面加载速度。因此检查坏连接很有必要。可通过Google的PageSpeed工具，找到问题后，补充相当资源文件或者修改资源链接地址即可。</p>
<h4 id="2、避免css-import"><a href="#2、避免css-import" class="headerlink" title="2、避免css@import"></a>2、避免css@import</h4><p>使用@import方法引用css文件可能会带来一些影响页面加载速度的问题。比如导致文件按顺序加载（一个加载完成后才会加载另一个），无法并行加载；</p>
<p>检查工具：css delivery</p>
<p>查到@import url(“style.css”)<br>就替换为：&lt;link….&gt;</p>
<h4 id="3、避免使用document-write"><a href="#3、避免使用document-write" class="headerlink" title="3、避免使用document.write"></a>3、避免使用document.write</h4><p>在js中，可以使用document.write。在网页上显示内容或者调用外部资源，而通过此方法，浏览器采取一些多余的步骤（下载资源，读取资源）。运行js来了解需要做什么，调用其他资源时，需要重新在执行一次这个过程。由于浏览器之前不知道要显示什么，所以会降低页面加载的速度。</p>
<p>要知道，任何能够被document.write调用的资源，都可以通过html调用。这样速度会更快</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.<span class="built_in">write</span>('&lt;<span class="keyword">script</span> src=<span class="string">"another.js"</span>&gt;&lt;/<span class="keyword">script</span>&gt;');</span><br></pre></td></tr></table></figure>
<p>改为</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"another.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="4、合并多个外部css文件"><a href="#4、合并多个外部css文件" class="headerlink" title="4、合并多个外部css文件"></a>4、合并多个外部css文件</h4><p>网站中每使用一个css文件，都会让你的页面加载速度慢一点。可以css delivery工具，来检测页面代码中css文件。然后通过复制粘贴合并成一个。</p>
<h4 id="5、合并多个外部js文件"><a href="#5、合并多个外部js文件" class="headerlink" title="5、合并多个外部js文件"></a>5、合并多个外部js文件</h4><p>可以用resource check来检测页面中所引用的js文件数，然后可以通过复制粘贴的方法将多个文件合并成一个。</p>
<h4 id="6、通过css-sprites来整合图像"><a href="#6、通过css-sprites来整合图像" class="headerlink" title="6、通过css sprites来整合图像"></a>6、通过css sprites来整合图像</h4><p>若页面中有6个小图像，那么浏览器在显示时会分别下载，你可以通过css sprites将这些图像合并成为一个，可以减少页面加载所需要的时间。</p>
<p>Css sprites两个步骤：整合图像，定位图像</p>
<h4 id="7、延迟js加载"><a href="#7、延迟js加载" class="headerlink" title="7、延迟js加载"></a>7、延迟js加载</h4><p>浏览器在执行js代码时，会停止处理页面。当页面中很多js文件或者代码要加载时，将导致严重的延迟。尽管可以使用defer，异步或将js代码放自爱页面底部来延迟js的加载。但这些都不是一个好的解决方案。</p>
<p>好方法</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">function downloadJSAtOnload()</span><span class="xquery">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="xquery">      varelement<span class="built_in">=document</span>.createElement(<span class="string">"script"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="xquery">      <span class="keyword">element</span>.src="defer.js";</span></span><br><span class="line"></span><br><span class="line"><span class="xquery">     <span class="built_in"> document</span>.body.appendChild(<span class="keyword">element</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="xquery">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">if(window.addEventListener)</span><span class="xquery">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="xquery">      <span class="keyword">window</span>.addEventListener(<span class="string">'load'</span>,downloadJSAtOnload<span class="built_in">,false</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="xquery">&#125;</span><span class="xml">else if(window.attachEvent)</span><span class="xquery">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="xquery">      <span class="keyword">window</span>.attachEvent(<span class="string">'onload'</span>,downloadJSAtOnload);</span></span><br><span class="line"></span><br><span class="line"><span class="xquery">&#125;</span><span class="xml">else</span><span class="xquery">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="xquery">      <span class="keyword">window</span>.οnlοad=downloadJSAtOnload;</span></span><br><span class="line"></span><br><span class="line"><span class="xquery">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="8、启用压缩-Gzip"><a href="#8、启用压缩-Gzip" class="headerlink" title="8、启用压缩/Gzip"></a>8、启用压缩/Gzip</h4><p>使用gzip对html和css文件进行压缩，通常可以大约节省50%到70%，这样加载页面只需要更少的带宽和更少的时间。</p>
<h4 id="9、如果你的css和js较小，可以将css和js内嵌到html页面中，这样可以减少页面加载所需要的文件数，从而加快页面的加载。"><a href="#9、如果你的css和js较小，可以将css和js内嵌到html页面中，这样可以减少页面加载所需要的文件数，从而加快页面的加载。" class="headerlink" title="9、如果你的css和js较小，可以将css和js内嵌到html页面中，这样可以减少页面加载所需要的文件数，从而加快页面的加载。"></a>9、如果你的css和js较小，可以将css和js内嵌到html页面中，这样可以减少页面加载所需要的文件数，从而加快页面的加载。</h4><h4 id="10、用minify-css压缩css代码"><a href="#10、用minify-css压缩css代码" class="headerlink" title="10、用minify css压缩css代码"></a>10、用minify css压缩css代码</h4><h4 id="11、尽量减少dns查询次数"><a href="#11、尽量减少dns查询次数" class="headerlink" title="11、尽量减少dns查询次数"></a>11、尽量减少dns查询次数</h4><p>当浏览器和服务器建立链接时，它需要进行dns解析，将域名解析为ip地址，然而，一旦客户端需要执行dns lookup时，等待时间将会取决于域名服务器的有效响应速度。</p>
<p>虽然所有的isp的dns服务器都能缓存域名和ip地址映射表。但如果缓存的dns记录过期了而需要更新，则可能需要遍历多个dns节点，有时候需要通过全球范围内来找到可信任的域名服务器，一旦域名服务器工作繁忙，请求解析时，就需要排队则进一步延时等待时间。</p>
<p>所有减少dns查询次数很重要，页面加载就尽量避免额外耗时，为了减少dns查询次数，最好的解决方法就是在页面中减少不同的域名请求的机会、</p>
<p>可通过request checker工具来检测页面中存在多少请求后，进行优化。</p>
<h4 id="12、尽量减少重定向"><a href="#12、尽量减少重定向" class="headerlink" title="12、尽量减少重定向"></a>12、尽量减少重定向</h4><p>有时候为了特定需求，需要在网页中使用重定向。重定向的意思是，用户的原始请求（如请求A）被重定向到其他的请求（如请求B）；</p>
<p>网页中使用重定向会造成网站性能和速度下降，因为浏览器访问网址是一连串的过程，如果访问到一半，而跳转到新的地址，就会重复发起一连串的过程，这将浪费很多时间。所有我们尽量避免重定向。Google建议</p>
<p>A、不要链接到一个包含重定向的页面</p>
<p>B、不要请求包含重定向的资源</p>
<h4 id="13、优化样式表和脚步顺序"><a href="#13、优化样式表和脚步顺序" class="headerlink" title="13、优化样式表和脚步顺序"></a>13、优化样式表和脚步顺序</h4><p>Style标签和样式表调用代码应该放置在js代码的前面，这样可以使页面的加载速度加快。</p>
<h4 id="14、避免js阻塞渲染"><a href="#14、避免js阻塞渲染" class="headerlink" title="14、避免js阻塞渲染"></a>14、避免js阻塞渲染</h4><p>浏览器在遇到一个引入外部js文件的&lt; script /&gt;标签时，会停下所有工作下载并解析执行它。在这个过程中，页面渲染和用户交互完全被阻塞了。这是页面加载就会停止。</p>
<p>谷歌建议删除干扰页面第一屏内容加载的js，第一屏指的是用户在屏幕中最初看到的页面，无论桌面浏览器，还是手机</p>
<h4 id="15、指定图像尺寸"><a href="#15、指定图像尺寸" class="headerlink" title="15、指定图像尺寸"></a>15、指定图像尺寸</h4><p>当浏览器加载页面的html时，有时候需要在图片下载完成前，对页面布局进行定位。如果hmtl里的图片没有指定尺寸，或者代码描述的尺寸和实际的图片尺寸不符合时，浏览器需要在图片下载完成后在回溯到该图片，并重新显示，这将消耗额外的时间。</p>
<p>最好的页面中每一张图片都指定尺寸，不管在html里的img中，还是在css中。</p>
</div><div class="post-copyright"><blockquote><p>原文作者: 骑猪骑士</p><p>原文链接: <a href="http://zhaokunming.xyz/2019/01/03/css，js以及web性能优化/">http://zhaokunming.xyz/2019/01/03/css，js以及web性能优化/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"><a href="/tags/js/">js</a><a href="/tags/css/">css</a><a href="/tags/web%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">web性能优化</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2019/01/16/vue%E5%AE%9E%E7%8E%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%B1%80%E9%83%A8%E5%88%B7%E6%96%B0/" class="pre">vue实现页面的局部刷新</a><a href="/2018/12/16/axios%E6%8B%A6%E6%88%AA%E5%99%A8/" class="next">axios拦截器</a></div><div id="comments"><div id="container"><script type="text/javascript" src="https://unpkg.com/gitalk/dist/gitalk.min.js?v=2.0.4"></script><script type="text/javascript" src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=2.0.4"></script><script>var gitalk = new Gitalk({
  clientID: 'b9866c2ced487dfb61db',
  clientSecret: '802b6c3f8fe51c7e135315c617f51de05ecd97f1',
  repo: 'gitalk.github.io',
  owner: 'pretendtobehappy',
  admin: ['pretendtobehappy'],
  id: md5(window.location.pathname),
  distractionFreeMode: false,
  language: 'zh-CN',
  pagerDirection: 'last'
})
gitalk.render('container')</script></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Css优化总结"><span class="toc-text">Css优化总结</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、css压缩"><span class="toc-text">1、css压缩</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、gzip压缩"><span class="toc-text">2、gzip压缩</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、合写css（通过少些css属性来达到减少css字节吗的目的）"><span class="toc-text">3、合写css（通过少些css属性来达到减少css字节吗的目的）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、利用继承"><span class="toc-text">4、利用继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5、抽离、拆分css，不加载所有css"><span class="toc-text">5、抽离、拆分css，不加载所有css</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6、css放在head中，减少repaint和reflow"><span class="toc-text">6、css放在head中，减少repaint和reflow</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7、避免使用通配符或隐式通配符：visible"><span class="toc-text">7、避免使用通配符或隐式通配符：visible.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8、避免层级或过度限制css（css是从右向左解析的）"><span class="toc-text">8、避免层级或过度限制css（css是从右向左解析的）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JavaScript优化总结"><span class="toc-text">JavaScript优化总结</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、避免全局查找"><span class="toc-text">1、避免全局查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、定时器"><span class="toc-text">2、定时器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、字符串连接"><span class="toc-text">3、字符串连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、避免with语句"><span class="toc-text">4、避免with语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5、数字转为字符串"><span class="toc-text">5、数字转为字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6、浮点数转化为整型"><span class="toc-text">6、浮点数转化为整型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7、多个类型声明"><span class="toc-text">7、多个类型声明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8、使用直接量"><span class="toc-text">8、使用直接量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9、使用DocumentFragment优化多次的append"><span class="toc-text">9、使用DocumentFragment优化多次的append</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10、使用一次innerHTML复制代替构建dom元素。"><span class="toc-text">10、使用一次innerHTML复制代替构建dom元素。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11、使用firstChild和nextSibling代替childNodes遍历dom元素。"><span class="toc-text">11、使用firstChild和nextSibling代替childNodes遍历dom元素。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12、删除dom节点"><span class="toc-text">12、删除dom节点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13、简化终止条件"><span class="toc-text">13、简化终止条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14、使用后测试循环"><span class="toc-text">14、使用后测试循环</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15、尽量少用eval函数"><span class="toc-text">15、尽量少用eval函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16、不要给setTimeout或setInterval传递字符串参数。"><span class="toc-text">16、不要给setTimeout或setInterval传递字符串参数。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17、缩短否定检测"><span class="toc-text">17、缩短否定检测</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#18、可以用三目运算符替换条件分支，可以提高效率。"><span class="toc-text">18、可以用三目运算符替换条件分支，可以提高效率。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web性能优化"><span class="toc-text">Web性能优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、避免坏请求"><span class="toc-text">1、避免坏请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、避免css-import"><span class="toc-text">2、避免css@import</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、避免使用document-write"><span class="toc-text">3、避免使用document.write</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、合并多个外部css文件"><span class="toc-text">4、合并多个外部css文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5、合并多个外部js文件"><span class="toc-text">5、合并多个外部js文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6、通过css-sprites来整合图像"><span class="toc-text">6、通过css sprites来整合图像</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7、延迟js加载"><span class="toc-text">7、延迟js加载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8、启用压缩-Gzip"><span class="toc-text">8、启用压缩/Gzip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9、如果你的css和js较小，可以将css和js内嵌到html页面中，这样可以减少页面加载所需要的文件数，从而加快页面的加载。"><span class="toc-text">9、如果你的css和js较小，可以将css和js内嵌到html页面中，这样可以减少页面加载所需要的文件数，从而加快页面的加载。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10、用minify-css压缩css代码"><span class="toc-text">10、用minify css压缩css代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11、尽量减少dns查询次数"><span class="toc-text">11、尽量减少dns查询次数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12、尽量减少重定向"><span class="toc-text">12、尽量减少重定向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13、优化样式表和脚步顺序"><span class="toc-text">13、优化样式表和脚步顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14、避免js阻塞渲染"><span class="toc-text">14、避免js阻塞渲染</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15、指定图像尺寸"><span class="toc-text">15、指定图像尺寸</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/03/11/%E6%96%B0%E5%A2%9E%E5%92%8C%E7%BC%96%E8%BE%91%E5%BC%B9%E7%AA%97%E9%97%AE%E9%A2%98/">新增和编辑弹窗问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/02/28/%E5%85%B3%E4%BA%8E%E6%96%B0%E5%86%A0%E7%8A%B6%E7%97%85%E6%AF%92%E7%9A%84%E8%B6%85%E9%95%BF%E5%81%87%E6%9C%9F/">关于新冠状病毒的超长假期</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/10/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%98%A5%E8%BF%90/">记一次春运</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/24/vue%E4%B8%ADaxios%E7%9A%84%E5%B0%81%E8%A3%85/">Vue中axios的封装</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/05/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3vue%E4%B8%AD%E7%9A%84nextTick/">简单理解vue中的nextTick</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/11/vue%E4%B8%ADslot%E6%8F%92%E6%A7%BD%E7%9A%84%E4%BD%BF%E7%94%A8/">vue中slot插槽的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/29/el-table%E4%B8%8Eel-form%E5%90%8C%E7%94%A8%E5%8F%8A%E6%A0%A1%E9%AA%8C/">el-table与el-form同用及校验</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/17/el-form%E5%AE%9E%E7%8E%B0%E5%9B%9E%E8%BD%A6%E8%BF%9B%E5%85%A5%E4%B8%8B%E4%B8%80%E4%B8%AA%E8%BE%93%E5%85%A5%E6%A1%86/">el-form实现回车进入下一个输入框</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/02/element-ui%E5%8F%AF%E9%80%89%E6%97%B6%E9%97%B4%E9%99%90%E5%88%B6/">elementUI中DateTimePicker日期时间选择器的范围限制</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/05/%E4%B8%8B%E6%8B%89%E5%A4%8D%E9%80%89%E6%A1%86/">下拉复选框</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/axios/" style="font-size: 15px;">axios</a> <a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/css3/" style="font-size: 15px;">css3</a> <a href="/tags/%E8%87%AA%E9%80%82%E5%BA%94/" style="font-size: 15px;">自适应</a> <a href="/tags/elementUI/" style="font-size: 15px;">elementUI</a> <a href="/tags/web%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 15px;">web性能优化</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/redux/" style="font-size: 15px;">redux</a> <a href="/tags/flux/" style="font-size: 15px;">flux</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/vuex%E8%AF%AD%E6%B3%95%E7%B3%96/" style="font-size: 15px;">vuex语法糖</a> <a href="/tags/vue%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0/" style="font-size: 15px;">vue辅助函数</a> <a href="/tags/%E7%94%9F%E6%B4%BB/" style="font-size: 15px;">生活</a> <a href="/tags/start/" style="font-size: 15px;">start</a> <a href="/tags/slot/" style="font-size: 15px;">slot</a> <a href="/tags/withRouter/" style="font-size: 15px;">withRouter</a> <a href="/tags/title%E8%AE%BE%E7%BD%AE/" style="font-size: 15px;">title设置</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 15px;">随笔</a> <a href="/tags/%E6%9D%82%E8%B0%88/" style="font-size: 15px;">杂谈</a> <a href="/tags/%E5%B1%80%E9%83%A8%E5%88%B7%E6%96%B0/" style="font-size: 15px;">局部刷新</a> <a href="/tags/jquery/" style="font-size: 15px;">jquery</a> <a href="/tags/ajax/" style="font-size: 15px;">ajax</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 15px;">前端</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 15px;">性能优化</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">5</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">骑猪骑士.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.4"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.4" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>